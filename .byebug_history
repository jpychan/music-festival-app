continue
next
@results.class
next
@results
quit
continue
@results["airports"][0].to_json
@results["airports"][0]
@results["airports"]
@results
continue
@results["airports"].length
@results["airports"]
@results
@result
continue
response.class
response
continue
JSON.parse(response)
next
response
next
response
next
continue
response.body
response
continue
response
continue
response.body
response
continue
response
response.body
response[1]
response[0]
response = response.body.split('\(')
response.body.split('\(')
response.body[0]
response.body
response
JSON.parse(response.body)
continue
@results = JSON.parse(@results)
@results
continue
response.header.each_header {|k, v| puts "#{k} = #{v}" }
response.header.each_header {|k, v| puts "#{key} = #{value}" }
response[:content_type]
response[content_type]
response["content_type"]
response["server"]
response[:server]
response[:content-type]
response.each_header
response.header
response.headers
response.body
reponse.body
response.inspect
response.header
response.headers
response
continue
results["callback"]
results["callback"\
results
continue
list
continue
quit
continue
quit
response.body
response
next
response
continue
response.body
response
continue
response.body
response
continue
request["data"]
JSON.parse(response.body)
response.body
response
continue
request
request.keys
request.headers
request.header
request.body
request
response.body
response
@response
@request
@list
continue
request
response
@list
rails s
continue
quit
"{ query: '#{input}', apiKey: 'prtl6749387986743898559646983194' }"
"{ query: #{input}, apiKey: 'prtl6749387986743898559646983194' }"
'{ query: #{input}, apiKey: prtl6749387986743898559646983194 }'
puts "console #{input}"
input
'{ query: "#{input}", apiKey: prtl6749387986743898559646983194 }'
'{ query: #{input}, apiKey: prtl6749387986743898559646983194 }'
{ query: #{input}, apiKey: prtl6749387986743898559646983194'
request
next
request
next
continue
request
next
continue
Festival.autocomplete(input)
continue
next
continue
Festival.autocomplete(input)
Festival.autocomplete
input
params
continue
next
quit
continue
params["query"]
params
input
Festival.autocomplete(input)
Festival.autocomplete
continue
params
continue
@first_five_results[0]
@first_five_results
next
quit
@first_five_results[i][:agent] = agents.select { |agent| agent["Id"] == agent_id }
 @first_five_results[i][:departure_carrier] = carriers.select { |carrier| carrier["Id"] == departure_carrier_id }
departure_carrier_id = @first_five_results[i][:outbound_leg]["Carriers"][0]
@first_five_results[0][:departure_airport] = places.select { |place| place["Id"] == departure_airport_id }[0]
@first_five_results[0][:departure_airport] = places.select { |place| place["Id"] == departure_airport_id }
@first_five_results[0][:outbound_leg]["Carriers"][0]
@first_five_results[0][:outbound_leg]["Carriers"]
departure_carrier_id
next
arrival_airport_id
next
departure_airport_id
next
@first_five_results[0][:inbound_leg]
next
@first_five_results[0][:outbound_leg]
next
@first_five_results
agents
query
places
carriers
legs
quit
@results["Carriers"][0]
@results["Carriers"]
@results = JSON.parse(@results)
@results["Carriers"]
@results
legs
continue
next
quit
      departure_airport_id = @first_five_results[i][:outbound_leg]["OriginStation"]
      departure_airport_id = @first_five_results[i][:outbound_leg][0]["OriginStation"]
      @first_five_results[i][:outbound_leg] = legs.select { |leg| leg["Id"] == outbound_leg_id}[0]
@first_five_results[0][:outbound_leg]
@first_five_results[0][:outbound_leg][0]["OriginStation"]
legs.select { |leg| leg["Id"] == inbound_leg_id}[0]
legs.select { |leg| leg["Id"] == outbound_leg_id}[0]
legs.select { |leg| leg["Id"] == outbound_leg_id}
legs.select { |leg| leg["Id"] == @results["Itineraries"][0]["OutboundLegId"] }legs.select { |leg| leg["Id"] == outbound_leg_id}
legs.select { |leg| leg["Id"] == @results["Itineraries"][0]["OutboundLegId"] }
@first_five_results[i]["PricingOptions"][0]["Agents"][0]
@first_five_results[0]["PricingOptions"][0]["Agents"]
@first_five_results[0]["PricingOptions"]["Agents"]
quit
legs = JsonPath.on(@results, '$.Legs').flatten
continue
@first_five_results.class
quit
@first_five_results.to_json
@first_five_results.class
continue
@first_five_results
first_five_results
continue
quit
      @first_five_results[i][:agent] = JsonPath.on(agents, "$..[?(@.Id==#{agent_id})]")
    agents = JsonPath.on(@results, '$..Agents')[0]
    agents = JsonPath.on(@aresults, '$..Agents')
    agents = JsonPath.on(@aresults, '$..Agents')[0]
agents
agent_id
 @first_five_results[i][:agent] = JsonPath.on(agents, "$..[?(@.Id==#{agent_id})]")
      @first_five_results[i][:booking_url] = JsonPath.on(@first_five_results[0], '$..DeeplinkUrl')
      @first_five_results[i][:booking_url] = JsonPath.on(@first_five_results[0], '$.DeeplinkUrl')
      @first_five_results[i][:booking_url] = JsonPath.on(@first_five_results[i], '$.DeeplinkUrl')
      @first_five_results[i][:booking_url] = JsonPath.on(@first_five_results[i], '$.DeeplinkUrl')[0]
      @first_five_results[i][:arrival_carrier] = JsonPath.on(carriers, "$..[?(@.Id==#{arrival_carrier_id})]")
arrival_carrier_id = arrival_carrier_id[0]
arrival_carrier_id
      @first_five_results[i][:arrival_carrier] = JsonPath.on(carriers, "$..[?(@.Id==#{arrival_carrier_id})]")
      departure_carrier_id = JsonPath.on(@first_five_results[i][:outbound_leg], '$..CarrierId')
      departure_carrier_id = JsonPath.on(@first_five_results[i][:outbound_leg], '$..CarrierId')[0]
arrival_carrier_id[0]
arrival_carrier_id
quit
    (0..4).each{ |i| puts "#{i}."}
    (0..4).each{ |k| puts "#{k}. Curly braces make it even shorter"}
    (0..4).each { |i| puts '#{i}'}
first_five_results = JsonPath.on(@results, '$..Itineraries[:4]').length
first_five_results.length
    first_five_results[0][:agent] = JsonPath.on(agents, "$..[?(@.Id==#{agent_id})]")
    agent_id = JsonPath.on(first_five_results[0], '$..Agents')[0][0]
    first_five_results[0][:agent] = JsonPath.on(agents, "$..[?(@.Id==#{agent_id})]")
    agent_id = JsonPath.on(first_five_results[0], '$..Agents')[0].flatten
    agent_id = JsonPath.on(first_five_results[0], '$..Agents')[0]
    agent_id = JsonPath.on(first_five_results[0], '$..Agents')
    first_five_results[0][:booking_url] = JsonPath.on(first_five_results[0], '$..DeeplinkUrl')[0]
    first_five_results[0][:booking_url] = JsonPath.on(first_five_results[0], '$..DeeplinkUrl')
    first_five_results[0][:booking_url] = JsonPath.on(first_five_results[0], '$.DeeplinkUrl')
first_five_results[0]["PricingOptio    first_five_results[0][:booking_url] = JsonPath.on(first_five_results[0], "$..DeeplinkUrl")
first_five_results[0]
    departure_airport_id = first_five_results[0][:outbound_leg]["OriginStation"]
    departure_airport_id = first_five_results[0][:outbound_leg][0]["OriginStation"]
    outbound_leg_id = first_five_results[0]["OutboundLegId"]
    legs = JsonPath.on(@results, '$..Legs').flatten
    legs = JsonPath.on(@results, '$..Legs')
    legs = JsonPath.on(@results, '$..Legs').flatten
    legs = JsonPath.on(@results, '$..Legs')
places = JsonPath.on(@results, '$..Places')
    query = JsonPath.on(@results, '$..Query')
    carriers = JsonPath.on(@results, '$..Carriers')[0]
    carriers = JsonPath.on(@results, '$..Carriers')
    carriers = JsonPath.on(@results, '$..Carriers').flatten
